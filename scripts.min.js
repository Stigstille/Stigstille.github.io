function generateNonce() { let e = new Uint32Array(8); window.crypto.getRandomValues(e); let t = ""; for (let n of e) t += ("0000" + n.toString(16)).slice(-4); return t } let scriptElements = document.querySelectorAll("script"), nonce = generateNonce(); function sillyGoose() { alert("You should have seen this coming -_-") } scriptElements.forEach(function (e) { e.setAttribute("nonce", "nonce-" + nonce) }), document.addEventListener("DOMContentLoaded", function () { document.getElementById("favorite-video-button").addEventListener("click", function (e) { e.preventDefault(), sillyGoose() }) });