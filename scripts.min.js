function generateNonce() { let e = new Uint32Array(8); window.crypto.getRandomValues(e); let n = ""; for (let t of e) n += ("0000" + t.toString(16)).slice(-4); return n } let scriptElements = document.querySelectorAll("script"), nonce = generateNonce(); function sillyGoose() { alert("You should have seen this coming -_-") } scriptElements.forEach(function (e) { e.setAttribute("nonce", "nonce-" + nonce) });